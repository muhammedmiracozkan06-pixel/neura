<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neura MAX - Doğrulama</title>

    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <style>
        :root { --primary:#3b82f6; --bg:#0b0b0e; --card:#16161a; }
        body { margin:0; background:var(--bg); color:#fff; font-family:'Segoe UI',sans-serif; overflow:hidden; }

        /* Auth Ekranı */
        #auth-overlay { position:fixed; inset:0; background:var(--bg); display:flex; align-items:center; justify-content:center; z-index:9999; }
        .auth-card { background:var(--card); padding:40px; border-radius:25px; border:1px solid #333; text-align:center; width:320px; box-shadow:0 10px 50px rgba(0,0,0,0.5); }

        /* Ana Uygulama */
        #main-app { display:none; flex-direction:column; height:100vh; }
        #header { padding:15px 25px; background:#111; display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #222; }

        #chat { flex:1; overflow-y:auto; padding:20px; display:flex; flex-direction:column; gap:15px; }
        .msg { padding:14px 18px; border-radius:18px; max-width:75%; font-size:15px; word-wrap:break-word; line-height: 1.4; }
        .user { background:var(--primary); align-self:flex-end; border-bottom-right-radius:4px; }
        .bot { background:#222; align-self:flex-start; border:1px solid #333; border-bottom-left-radius:4px; }

        .searching { color: var(--primary); font-style: italic; font-size: 13px; margin: 10px 20px; animation: blink 1s infinite; }
        @keyframes blink { 0%, 100% { opacity: 0.5; } 50% { opacity: 1; } }

        #input-area { padding:20px; display:flex; gap:12px; background:#070709; border-top:1px solid #222; }
        input { flex:1; padding:14px; border-radius:12px; border:1px solid #333; background:#1a1a1e; color:#fff; outline:none; }
        button { background:var(--primary); border:none; padding:10px 25px; border-radius:12px; color:#fff; font-weight:bold; cursor:pointer; }
        
        .hidden { display:none !important; }
    </style>
</head>
<body>

<div id="auth-overlay">
    <div class="auth-card">
        <h1 style="color:var(--primary); margin-bottom:10px;">Neura MAX</h1>

        <div id="captcha-box" style="margin-bottom:20px; display:flex; justify-content:center;">
            <div class="g-recaptcha" 
                 data-sitekey="6Lfumm0sAAAAAIzv9cJMM6Xip9W_Bwgi_aHQ2jnt" 
                 data-callback="unlock">
            </div>
        </div>

        <div id="login-options" class="hidden">
            <p style="color:#666; margin-bottom:20px;">Doğrulama başarılı! Giriş yapın.</p>
            
            <div style="display:flex; justify-content:center; margin-bottom:10px;">
                <div id="g_id_onload"
                     data-client_id="897971776455-eh0lpcnpcecifps2kga7lqrh2r6o8ole.apps.googleusercontent.com"
                     data-callback="onSignIn">
                </div>
                <div class="g_id_signin" data-type="standard" data-theme="filled_black" data-width="280"></div>
            </div>

            <div style="margin:15px 0; color:#444; font-size:12px;">VEYA</div>

            <button onclick="enterAsGuest()" 
                    style="background:transparent; border:1px solid #444; width:280px; padding:10px; color:#aaa; border-radius:5px;">
                Misafir Olarak Devam Et
            </button>
        </div>
    </div>
</div>

<div id="main-app">
    <div id="header">
        <div style="font-weight:bold; color:var(--primary);">
            NEURA MAX <span id="u-tag" style="color:#555; font-size:11px;"></span>
        </div>
    </div>

    <div id="chat"></div>
    <div id="status-container"></div>

    <div id="input-area">
        <input id="q" placeholder="Ördek asistanınızla arama yapın..." autocomplete="off">
        <button onclick="talk()">GÖNDER</button>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>
